2025-09-16 01:10:21 - timezone_aware_policy - INFO - Starting Timezone-Aware Policy demonstration
2025-09-16 01:10:21 - timezone_aware_policy - INFO - Initializing Graphiti...
2025-09-16 01:10:21 - timezone_aware_policy - INFO - Connecting to Neo4j at bolt://localhost:7687 with user neo4j
2025-09-16 01:10:21 - timezone_aware_policy - DEBUG - Initializing Groq LLM client
2025-09-16 01:10:22 - timezone_aware_policy - DEBUG - Groq LLM client initialized successfully
2025-09-16 01:10:22 - timezone_aware_policy - DEBUG - Initializing Graphiti instance
2025-09-16 01:10:23 - timezone_aware_policy - INFO - Graphiti instance created successfully
2025-09-16 01:10:23 - timezone_aware_policy - INFO - Building indices and constraints...
2025-09-16 01:10:25 - timezone_aware_policy - INFO - Indices and constraints built successfully
2025-09-16 01:10:25 - timezone_aware_policy - INFO - Loading policy configuration...
2025-09-16 01:10:25 - timezone_aware_policy - INFO - Policy configuration loaded successfully
2025-09-16 01:10:25 - timezone_aware_policy - INFO - TimezoneAwarePolicy instance created successfully
2025-09-16 01:10:25 - timezone_aware_policy - INFO - Adding policies to knowledge graph...
2025-09-16 01:10:25 - timezone_aware_policy - INFO - Starting to add timezone-aware policies to knowledge graph...
2025-09-16 01:10:25 - timezone_aware_policy - WARNING - Skipping potentially problematic policy: Look up timezone based on user location if not spe...
2025-09-16 01:10:25 - timezone_aware_policy - WARNING - Skipping potentially problematic policy: Apply timezone-aware restrictions based on user's ...
2025-09-16 01:10:25 - timezone_aware_policy - WARNING - Skipping potentially problematic policy: Emergency phase overrides all timezone restriction...
2025-09-16 01:10:25 - timezone_aware_policy - WARNING - Skipping potentially problematic policy: Working hours are defined per user's timezone...
2025-09-16 01:10:25 - timezone_aware_policy - DEBUG - Preparing to add 1 text policies to graph
2025-09-16 01:10:25 - timezone_aware_policy - DEBUG - Adding text policy 1/1
2025-09-16 01:10:28 - timezone_aware_policy - ERROR - Failed to add text policy 1: 'ascii' codec can't encode character '\u201d' in position 7: ordinal not in range(128)
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Successfully added timezone-aware policies to knowledge graph
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Starting policy tests...
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Running test: new_york_working_hours
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Checking timezone-aware policy for user user123
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Retrieved user info for user123: John Smith (john.smith@company.com)
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Local time in America/New_York: 2024-01-15 04:00:00-05:00
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Detected classification confidential from query
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Searching graph with optimized query: timezone aware policy confidential pre_deployment
2025-09-16 01:10:28 - timezone_aware_policy - ERROR - Error during graph search: 'ascii' codec can't encode character '\u201d' in position 7: ordinal not in range(128)
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Continuing with policy logic despite graph search error
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Policy decision: BLOCKED - Access denied: off_hours restriction for confidential data
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Test result: Blocked - Access denied: off_hours restriction for confidential data
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Running test: london_off_hours
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Checking timezone-aware policy for user user456
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Retrieved user info for user456: Sarah Johnson (sarah.johnson@company.com)
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Local time in Europe/London: 2024-01-15 15:00:00+00:00
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Detected classification secret from query
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Searching graph with optimized query: timezone aware policy secret pre_deployment
2025-09-16 01:10:28 - timezone_aware_policy - ERROR - Error during graph search: 'ascii' codec can't encode character '\u201d' in position 7: ordinal not in range(128)
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Continuing with policy logic despite graph search error
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Policy decision: ALLOWED - Access allowed during working_hours
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Test result: Allowed - Access allowed during working_hours
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Running test: tokyo_weekend
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Checking timezone-aware policy for user user789
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Retrieved user info for user789: Mike Chen (mike.chen@company.com)
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Local time in Asia/Tokyo: 2024-01-20 13:30:00+09:00
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Detected classification confidential from query
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Searching graph with optimized query: timezone aware policy confidential post_mission
2025-09-16 01:10:28 - timezone_aware_policy - ERROR - Error during graph search: 'ascii' codec can't encode character '\u201d' in position 7: ordinal not in range(128)
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Continuing with policy logic despite graph search error
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Policy decision: BLOCKED - Access denied: weekend restriction for confidential data
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Test result: Blocked - Access denied: weekend restriction for confidential data
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Running test: emergency_override
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Checking timezone-aware policy for user user123
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Retrieved user info for user123: John Smith (john.smith@company.com)
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Local time in America/New_York: 2024-01-15 13:00:00-05:00
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - No specific classification detected, defaulting to internal
2025-09-16 01:10:28 - timezone_aware_policy - DEBUG - Searching graph with optimized query: timezone aware policy internal emergency
2025-09-16 01:10:28 - timezone_aware_policy - ERROR - Error during graph search: 'ascii' codec can't encode character '\u201d' in position 7: ordinal not in range(128)
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Continuing with policy logic despite graph search error
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Policy decision: ALLOWED - Emergency phase overrides all timezone restrictions
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Test result: Allowed - Emergency phase overrides all timezone restrictions
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Running test: location_fallback
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Checking timezone-aware policy for user unknown_user
2025-09-16 01:10:28 - timezone_aware_policy - WARNING - User unknown_user not found in configuration
2025-09-16 01:10:28 - timezone_aware_policy - ERROR - Test failed: Unknown user: unknown_user
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Timezone-Aware Policy demonstration completed successfully
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Closing Graphiti connection...
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Graphiti connection closed successfully
2025-09-16 01:10:28 - timezone_aware_policy - INFO - Timezone-Aware Policy demonstration finished
