‚úÖ Graphiti core imported successfully
‚úÖ Team A temporal framework loaded successfully
üöÄ Starting Enhanced Privacy API Service (Team A + C Integration)
Team A Temporal Framework: ‚úÖ Available
INFO:     Started server process [73128]
INFO:     Waiting for application startup.
üöÄ Starting Enhanced Privacy API Service (Team A + C Integration)
‚úÖ Base privacy ontology created
‚úÖ Base privacy ontology created
‚úÖ OpenAI API configured with gpt-4o-mini
   Key: sk-proj-SFYRdFomzvnd...
   Using OpenAI for privacy decision intelligence
‚úÖ Graphiti initialized with OpenAI at bolt://localhost:7687
   Using OpenAI gpt-4o-mini for LLM reasoning
   Neo4j password: 12345678
‚úÖ Neo4j fallback driver initialized
‚úÖ Team C privacy components initialized
2025-11-01 17:45:41 - INFO - Successfully initialized Graphiti knowledge graph
2025-11-01 17:45:41 - WARNING - Graphiti search requires async implementation - returning empty results
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8003 (Press CTRL+C to quit)
‚úÖ Team A temporal components initialized
üåü Enhanced API service ready!
üîç DEBUG: openai_enabled = True
üîç DEBUG: privacy_request = {'requester': 'unauthorized_intern', 'data_field': 'patient_medical_records', 'purpose': 'curiosity_access', 'context': 'curiosity_access', 'emergency': False}
üîç DEBUG: Calling make_enhanced_privacy_decision
üß† Making REAL LLM-powered privacy decision via OpenAI API
üì° Making OpenAI API call for privacy decision...
2025-11-01 17:46:05 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
üì° OpenAI Response: {
  "allowed": false,
  "reasoning": "The requester is an unauthorized intern and is seeking access to patient medical records for curiosity purposes. According to the decision criteria, medical data should only be accessible to medical professionals or in emergencies. Since this request does not meet those criteria and is not related to an emergency, access is denied.",
  "confidence": 1.0,
  "data_sensitivity": "critical"
}
‚ö†Ô∏è  Direct OpenAI classification not implemented yet
   Using fallback classification logic
üß† REAL LLM Decision: DENY
üß† REAL LLM Reasoning: The requester is an unauthorized intern and is seeking access to patient medical records for curiosity purposes. According to the decision criteria, medical data should only be accessible to medical professionals or in emergencies. Since this request does not meet those criteria and is not related to an emergency, access is denied.
üß† REAL LLM Confidence: 1.0
‚úÖ LLM-powered decision: DENY
üîç DEBUG: LLM decision = {'allowed': False, 'reason': 'The requester is an unauthorized intern and is seeking access to patient medical records for curiosity purposes. According to the decision criteria, medical data should only be accessible to medical professionals or in emergencies. Since this request does not meet those criteria and is not related to an emergency, access is denied.', 'confidence': 1.0, 'data_classification': {'field': 'patient_medical_records', 'data_type': 'MedicalData', 'sensitivity': 'RestrictedData', 'context_dependent': False, 'equivalents': [], 'reasoning': ['Contains medical terminology']}, 'emergency_used': False, 'integration_ready': True, 'llm_powered': True, 'timestamp': '2025-11-01T12:16:05.454108+00:00', 'openai_response': '{\n  "allowed": false,\n  "reasoning": "The requester is an unauthorized intern and is seeking access to patient medical records for curiosity purposes. According to the decision criteria, medical data should only be accessible to medical professionals or in emergencies. Since this request does not meet those criteria and is not related to an emergency, access is denied.",\n  "confidence": 1.0,\n  "data_sensitivity": "critical"\n}'}
2025-11-01 17:46:07 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:46:08 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:46:08 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:46:08 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:46:09 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:46:10 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:46:11 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:46:12 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:46:12 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:46:12 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:46:12 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:46:13 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:46:13 - INFO - Completed add_episode in 8147.4480628967285 ms
‚úÖ Created Graphiti privacy decision episode: generated
   Decision: DENIED
   LLM-powered reasoning stored in Graphiti knowledge graph
   Timestamp: 2025-11-01T12:16:05Z (Local: 2025-11-01 12:16:05 UTC)
   Using LLM + Graphiti integration (no fallback needed)
INFO:     127.0.0.1:62232 - "POST /privacy-decision HTTP/1.1" 200 OK
üîç DEBUG: openai_enabled = True
üîç DEBUG: privacy_request = {'requester': 'emergency_cardiologist', 'data_field': 'patient_emergency_vitals', 'purpose': 'cardiac_arrest_emergency', 'context': 'cardiac_arrest_emergency', 'emergency': False}
üîç DEBUG: Calling make_enhanced_privacy_decision
üß† Making REAL LLM-powered privacy decision via OpenAI API
üì° Making OpenAI API call for privacy decision...
2025-11-01 17:48:58 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
üì° OpenAI Response: {
  "allowed": false,
  "reasoning": "The request for access to 'patient_emergency_vitals' is made by an emergency cardiologist, but the context indicates that this is not an emergency situation (Emergency: False). According to the decision criteria, medical data should only be accessible to medical professionals in emergencies. Since this request does not meet the emergency condition, access is denied.",
  "confidence": 0.95,
  "data_sensitivity": "high"
}
‚ö†Ô∏è  Direct OpenAI classification not implemented yet
   Using fallback classification logic
üß† REAL LLM Decision: DENY
üß† REAL LLM Reasoning: The request for access to 'patient_emergency_vitals' is made by an emergency cardiologist, but the context indicates that this is not an emergency situation (Emergency: False). According to the decision criteria, medical data should only be accessible to medical professionals in emergencies. Since this request does not meet the emergency condition, access is denied.
üß† REAL LLM Confidence: 0.95
‚úÖ LLM-powered decision: DENY
üîç DEBUG: LLM decision = {'allowed': False, 'reason': "The request for access to 'patient_emergency_vitals' is made by an emergency cardiologist, but the context indicates that this is not an emergency situation (Emergency: False). According to the decision criteria, medical data should only be accessible to medical professionals in emergencies. Since this request does not meet the emergency condition, access is denied.", 'confidence': 0.95, 'data_classification': {'field': 'patient_emergency_vitals', 'data_type': 'MedicalData', 'sensitivity': 'RestrictedData', 'context_dependent': False, 'equivalents': [], 'reasoning': ['Contains medical terminology']}, 'emergency_used': False, 'integration_ready': True, 'llm_powered': True, 'timestamp': '2025-11-01T12:18:58.365031+00:00', 'openai_response': '{\n  "allowed": false,\n  "reasoning": "The request for access to \'patient_emergency_vitals\' is made by an emergency cardiologist, but the context indicates that this is not an emergency situation (Emergency: False). According to the decision criteria, medical data should only be accessible to medical professionals in emergencies. Since this request does not meet the emergency condition, access is denied.",\n  "confidence": 0.95,\n  "data_sensitivity": "high"\n}'}
2025-11-01 17:48:59 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:00 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:00 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:00 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:00 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:00 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:04 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:05 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:05 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:06 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:06 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:07 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:07 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:07 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:07 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:07 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:07 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:07 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:08 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:08 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:08 - INFO - Completed add_episode in 10235.353708267212 ms
‚úÖ Created Graphiti privacy decision episode: generated
   Decision: DENIED
   LLM-powered reasoning stored in Graphiti knowledge graph
   Timestamp: 2025-11-01T12:18:58Z (Local: 2025-11-01 12:18:58 UTC)
   Using LLM + Graphiti integration (no fallback needed)
INFO:     127.0.0.1:62280 - "POST /privacy-decision HTTP/1.1" 200 OK
üîç DEBUG: openai_enabled = True
üîç DEBUG: privacy_request = {'requester': 'curious_cat', 'data_field': 'alien_spaceship_blueprints', 'purpose': 'intergalactic_investigation', 'context': 'intergalactic_investigation', 'emergency': False}
üîç DEBUG: Calling make_enhanced_privacy_decision
üß† Making REAL LLM-powered privacy decision via OpenAI API
üì° Making OpenAI API call for privacy decision...
2025-11-01 17:49:33 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
üì° OpenAI Response: {
  "allowed": false,
  "reasoning": "The requester, 'curious_cat', does not appear to have the necessary authorization or role to access the 'alien_spaceship_blueprints' data field. The purpose of the request is for an intergalactic investigation, which does not qualify as an emergency situation. Given that the data field is likely to contain sensitive information, access should be restricted to authorized personnel only. Therefore, the request is denied.",
  "confidence": 0.9,
  "data_sensitivity": "high"
}
‚ö†Ô∏è  Direct OpenAI classification not implemented yet
   Using fallback classification logic
üß† REAL LLM Decision: DENY
üß† REAL LLM Reasoning: The requester, 'curious_cat', does not appear to have the necessary authorization or role to access the 'alien_spaceship_blueprints' data field. The purpose of the request is for an intergalactic investigation, which does not qualify as an emergency situation. Given that the data field is likely to contain sensitive information, access should be restricted to authorized personnel only. Therefore, the request is denied.
üß† REAL LLM Confidence: 0.9
‚úÖ LLM-powered decision: DENY
üîç DEBUG: LLM decision = {'allowed': False, 'reason': "The requester, 'curious_cat', does not appear to have the necessary authorization or role to access the 'alien_spaceship_blueprints' data field. The purpose of the request is for an intergalactic investigation, which does not qualify as an emergency situation. Given that the data field is likely to contain sensitive information, access should be restricted to authorized personnel only. Therefore, the request is denied.", 'confidence': 0.9, 'data_classification': {'field': 'alien_spaceship_blueprints', 'data_type': 'PersonalData', 'sensitivity': 'InternalData', 'context_dependent': False, 'equivalents': [], 'reasoning': []}, 'emergency_used': False, 'integration_ready': True, 'llm_powered': True, 'timestamp': '2025-11-01T12:19:33.515107+00:00', 'openai_response': '{\n  "allowed": false,\n  "reasoning": "The requester, \'curious_cat\', does not appear to have the necessary authorization or role to access the \'alien_spaceship_blueprints\' data field. The purpose of the request is for an intergalactic investigation, which does not qualify as an emergency situation. Given that the data field is likely to contain sensitive information, access should be restricted to authorized personnel only. Therefore, the request is denied.",\n  "confidence": 0.9,\n  "data_sensitivity": "high"\n}'}
2025-11-01 17:49:35 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:35 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:35 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:35 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:36 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:38 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:38 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:38 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:39 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:39 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:39 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:39 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:39 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-01 17:49:40 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2025-11-01 17:49:40 - INFO - Completed add_episode in 7260.084867477417 ms
‚úÖ Created Graphiti privacy decision episode: generated
   Decision: DENIED
   LLM-powered reasoning stored in Graphiti knowledge graph
   Timestamp: 2025-11-01T12:19:33Z (Local: 2025-11-01 12:19:33 UTC)
   Using LLM + Graphiti integration (no fallback needed)
INFO:     127.0.0.1:62312 - "POST /privacy-decision HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [73128]
